# Analysis of The Supernatural and Humanity as a Representation of Tribulation Over Time

A topic modeling analysis exploring how supernatural themes in literature reflect changing values across three centuries of storytelling.

## Overview

This project uses BERTopic to analyze and compare supernatural narratives from three distinct eras:
- **Grimm Fairy Tales** (1857) - 104-206 stories from Carnegie Mellon's digital folklore collection
- **H.P. Lovecraft Stories** (1917-1937) - 104 stories from the original Lovecraft corpus
- **Modern Fan Fiction** (2001+) - 104 contemporary stories inspired by Lovecraft from the Lovecraft eZine

## Research Question
How have the themes of stories involving the supernatural invasively interacting with the setting changed over time?
## Methodology
We use the Bertopic model to analyze each individual corpus as well as every combination of corpuses to develop robust topic representations. 
Based on these topic representations, we can then develop insights into the similarities and differences between all three corpuses, and thus
develop insights into the minds and perspectives of the different authors in order to see how each mindset from a different mindset compares
and contrasts with one another. Additionally, to evaluate the topics, we relied on our knowledge of the corpuses for interpreting the topics,
as well as using the number of outliers and the topic coherence scores generated by BertopicOctisSetup.ipynb as less subjective evaluation metrics.
### Data Processing
- Stories organized into labeled corpora with metadata (genre, publication year, era)
- Preprocessing with custom stop words and CountVectorizer
- Era labels: Fairytale (1857), Lovecraft (1917-1937), Post-Lovecraft (1938-1970), Modern (1971-2000), Contemporary (2001+)

### Model Configuration
- **Embedding Model**: Sentence Transformer (all-mpnet-base-v2)
- **Representation Model**: KeyBERTInspired with MMR (diversity=0.3)
- **Clustering**: HDBSCAN (min_cluster_size=8, min_samples=3)
- **Dimensionality Reduction**: UMAP (n_neighbors=15, n_components=5, metric='cosine')

### Experiments
We created 36 different BERTopic models testing:
- 9 corpus combinations (single, paired, and triple corpus combinations)
- 4 parameter configurations (full custom settings, HDBSCAN only, UMAP only, stop words only)

## Key Findings

Our analysis revealed fundamental differences in narrative focus across eras:

- **Grimm Fairy Tales**: 
Topics centered on characters (huntsmen, maidens, dwarfs) and their actions, emphasizing human agency in overcoming supernatural challenges
- **Lovecraft Stories**: 
Topics focused on settings and entities (ancient ruins, dreamlands, eldritch horrors), treating protagonists as powerless observers
- **Modern Fan Fiction**:
  A hybrid approach featuring both character backgrounds (military expeditions, mundane office settings) and cosmic horror elements,
  acknowledging human insignificance while still valuing individual experience
### Model Performance
- Coherence scores ranged from 0.35-0.49 across models
- Configuration with all custom parameters (stop words + HDBSCAN + UMAP) consistently produced the best results
- Lower outlier rates correlated with better practical clustering quality

## Evaluation Metrics

- **OCTIS Coherence Score**: Topic quality measurement
- **Diversity Score**: Thematic variety within corpus
- **Uniqueness Score**: Topic separation and distinctiveness
- **Outlier Analysis**: Model confidence and edge case handling

## Requirements to run Generalized_Bertopic_Configuration.ipynb
- Python 3.8+
- pandas
- bertopic
- sentence-transformers
- scikit-learn
- textblob
- hdbscan
- umap-learn
- matplotlib
- numpy

## Requirements to run BertopicOctisSetup.ipynb
- Python 3.10
- OCTIS
- scikit-learn version 1.1.0
- genesim version 4.2.0
- If the above doesn't work for having Octis properly install, refer to the following link for the packages required for Octis to function:
- https://github.com/MIND-Lab/OCTIS/blob/master/requirements.txt

## Conclusion
In conclusion, we can see how the focus of each corpus within the story is different. While Lovecraft assigns the most attention to the settings
and on how inescapable the supernatural is for humanity, and the Fairy Tale stories place an emphasis on the characters and their actions, the 
Ezine fan corpus contains stories where, while the protagonist is still at the mercy of the supernatural, and rarely wins, the reactions of the 
characters, their struggles, and their actions in the face of the eldritch horrors are far more detailed compared to Lovecraft's works.
